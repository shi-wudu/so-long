SRCS			=	main.c \
					gnl/get_next_line.c \
					gnl/get_next_line_utils.c

NAME			=	so_long

LIBFT_PATH		=	./Libft
LIBFT			=	$(LIBFT_PATH)/libft.a

OBJS			=	$(SRCS:.c=.o)

CC				=	cc

CFLAGS			=	-Wall -Werror -Wextra -g -Imlx_linux -I$(LIBFT_PATH) -Ignl

MLX_FLAGS		=	mlx_linux/mlx.h -Lmlx_linux -lmlx_Linux -lXext -lX11 -lm -lz

all:		$(NAME)

%.o: %.c
	@$(CC) $(CFLAGS) -c $< -o $@

$(LIBFT):
	@$(MAKE) -C $(LIBFT_PATH) --silent

$(NAME): 	$(LIBFT) $(OBJS)
					@$(CC) $(CFLAGS) $(OBJS) -L$(LIBFT_PATH) -lft $(MLX_FLAGS) -o $(NAME)
					@echo -e "✓ so_long compiled successfully! \n"
					@echo -e "                                              █████████████\n \
                                         ███████ ████      ██████                                    \n \
                                    ██████████████  █████████   ████    ███ █████                    \n \
                                  ██████████████████████████████ ██████████ ███████                  \n \
                              ███████████ ███████████████████████████ ███████████████                \n \
                             ████████████████████████████████████████   ██████████████               \n \
                            ████████████████████████████████████████ █   █████████████               \n \
                           ████████████████████████████████████████ ██  ██████████████               \n \
                          ███████████████████████████████████████████████████████████                \n \
                          ██████████ ██ ██ █████████████████████████████████████████                 \n \
                         ████████              ██  ███  ██████████████████████████                   \n \
                         █████                           █████████████████████████                   \n \
                         ████                            ██████  ██████████████████				     \n \
                         ███                             ██████   █████████████████                  \n \
                         ███                             ██████   ███████████████████                \n \
                         █████     ██████          ████████████   ███████████ ███████                \n \
                          ██                             ██████   ███████████  ███████               \n \
                          ██                             █████    ██████████     ██████              \n \
                          ████████████████        ████████████    ███████ ██      ██████             \n \
                          ██        █                 ██ █████    ███ ███ ██        █  ██            \n \
                          ██  █████████            ███████████    ██ █ █████                         \n \
                          ██                             ████       █ █  ██                          \n \
                           █                             ████       ███  ██                          \n \
                           █              █              ████       █ █ ██                           \n \
                           █                            ████        ██ ██                            \n \
                           █                            ███        ██  ██                            \n \
                           ██                           ██             ██                            \n \
                           ██                           █              █                             \n \
                           ███         ████████        ██      ██  ██ ██                             \n \
                            ███       ██      ██       █        █ █████                              \n \
                             ███        █    ██                 ██ ███                               \n \
                              ███        ██ █                   █████                                \n \
                                ██                             ███                                   \n \
                                ███                      ███  ███                                    \n \
                                 ████                █████    ███                                    \n \
                                 ██ ██          ████████     ████                                    \n \
                             ██████ ███████████████ ██       ██████                                  \n \
                          ███████████████████ ██████     ██████████                                  \n \
                          ███████████████ █████████████████████████                                  \n \
                          ███████████████ ████████████████████████                                   \n \
                          ██████████ █████████████████████████████                                   \n \
                          ████████████████████████████████████████                                   \n \
                          ███████████  ███████████████████████████                                   \n \
                          ███████████  ███████████████████████████                                   \n \
                         █████████████████████████████████████████                                   \n \
                     █████████████████████████████████████████████████                               \n \
                 ████████████████████████████████████████████████████████                            \n \
              █████████████████████████████████████████████████████████████                          \n \
          ████████████████████████████████████████████████████████████████████                       "

clean:
					@rm -f $(OBJS)
					@$(MAKE) -C $(LIBFT_PATH) clean --silent
					@echo "✓ Object files cleaned"

fclean: 	clean
					@rm -f $(NAME)
					@$(MAKE) -C $(LIBFT_PATH) fclean --silent
					@echo "✓ All files deep cleaned"

re:			fclean all

.PHONY: all clean fclean re
