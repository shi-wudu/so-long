SRCS			=	main.c \
					parse/parser.c \
					parse/validation.c \
					utils/errors.c \
					src/init.c \
					src/events.c \
					src/render.c \
					gnl/get_next_line.c \
					gnl/get_next_line_utils.c

NAME			=	so_long

LIBFT_PATH		=	./Libft
LIBFT			=	$(LIBFT_PATH)/libft.a

FT_PRINTF_PATH	=	./ft_printf
FT_PRINTF		=	$(FT_PRINTF_PATH)/libftprintf.a

OBJS			=	$(SRCS:.c=.o)

CC				=	cc

CFLAGS			=	-Wall -Werror -Wextra -g -I. -Imlx_linux -I$(LIBFT_PATH) -Ignl -I$(FT_PRINTF_PATH)

MLX_FLAGS       =	-Lmlx_linux -lmlx -lXext -lX11 -lm -lz

INCLUDES 		=	-Imlx_linux -I$(LIBFT_PATH) -Ignl

all:		$(NAME)

%.o: %.c
	@$(CC) $(CFLAGS) $(INCLUDES) -c $< -o $@

$(LIBFT):
	@$(MAKE) -C $(LIBFT_PATH) --silent

$(FT_PRINTF):
	@$(MAKE) -C $(FT_PRINTF_PATH) --silent

$(NAME): 	$(LIBFT) $(FT_PRINTF) $(OBJS)
	@$(CC) $(CFLAGS) $(OBJS) -L$(LIBFT_PATH) -lft -L$(FT_PRINTF_PATH) -lftprintf $(MLX_FLAGS) -o $(NAME)
	@echo -e "✓ so_long compiled successfully! \n"
					@echo -e "                                              █████████████\n \
										 ███████ ████      ██████                                    \n \
									██████████████  █████████   ████    ███ █████                    \n \
								  ██████████████████████████████ ██████████ ███████                  \n \
							  ███████████ ███████████████████████████ ███████████████                \n \
							 ████████████████████████████████████████   ██████████████               \n \
							████████████████████████████████████████ █   █████████████               \n \
						   ████████████████████████████████████████ ██  ██████████████               \n \
						  ███████████████████████████████████████████████████████████                \n \
						  ██████████ ██ ██ █████████████████████████████████████████                 \n \
						 ████████              ██  ███  ██████████████████████████                   \n \
						 █████                           █████████████████████████                   \n \
						 ████                            ██████  ██████████████████				     \n \
						 ███                             ██████   █████████████████                  \n \
						 ███                             ██████   ███████████████████                \n \
						 █████     ██████          ████████████   ███████████ ███████                \n \
						  ██                             ██████   ███████████  ███████               \n \
						  ██                             █████    ██████████     ██████              \n \
						  ████████████████        ████████████    ███████ ██      ██████             \n \
						  ██        █                 ██ █████    ███ ███ ██        █  ██            \n \
						  ██  █████████            ███████████    ██ █ █████                         \n \
						  ██                             ████       █ █  ██                          \n \
						   █                             ████       ███  ██                          \n \
						   █              █              ████       █ █ ██                           \n \
						   █                            ████        ██ ██                            \n \
						   █                            ███        ██  ██                            \n \
						   ██                           ██             ██                            \n \
						   ██                           █              █                             \n \
						   ███         ████████        ██      ██  ██ ██                             \n \
							███       ██      ██       █        █ █████                              \n \
							 ███        █    ██                 ██ ███                               \n \
							  ███        ██ █                   █████                                \n \
								██                             ███                                   \n \
								███                      ███  ███                                    \n \
								 ████                █████    ███                                    \n \
								 ██ ██          ████████     ████                                    \n \
							 ██████ ███████████████ ██       ██████                                  \n \
						  ███████████████████ ██████     ██████████                                  \n \
						  ███████████████ █████████████████████████                                  \n \
						  ███████████████ ████████████████████████                                   \n \
						  ██████████ █████████████████████████████                                   \n \
						  ████████████████████████████████████████                                   \n \
						  ███████████  ███████████████████████████                                   \n \
						  ███████████  ███████████████████████████                                   \n \
						 █████████████████████████████████████████                                   \n \
					 █████████████████████████████████████████████████                               \n \
				 ████████████████████████████████████████████████████████                            \n \
			  █████████████████████████████████████████████████████████████                          \n \
		  ████████████████████████████████████████████████████████████████████                       "

clean:
					@rm -f $(OBJS)
					@$(MAKE) -C $(LIBFT_PATH) clean --silent
					@$(MAKE) -C $(FT_PRINTF_PATH) clean --silent
					@echo "✓ Object files cleaned"

fclean: 	clean
					@rm -f $(NAME)
					@$(MAKE) -C $(LIBFT_PATH) fclean --silent
					@$(MAKE) -C $(FT_PRINTF_PATH) fclean --silent
					@echo "✓ All files deep cleaned"

re:			fclean all

.PHONY: all clean fclean re
